### CI/CD üôÅ/üòÉ

### –ü—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ
–£ –º–µ–Ω—è –µ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ React, –∏ –¥–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è CI/CD —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Actions. –Ø –∏—Å–ø–æ–ª—å–∑—É—é GitHub Pages –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `main`.

### üôÅ CI/CD:

```yaml
name: bad CI/CD

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-20.04  # –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è ü¶í

    steps:
      - name: checkout
        uses: actions/checkout@v1  # –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è

      - name: node.js
        run: |
          sudo apt-get update
          sudo apt-get install -y nodejs npm  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –≤—Ä—É—á–Ω—É—é
      - name: installing
        run: npm install  # –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (--legacy-peer-deps)

      - name: build
        run: npm run build

      - name: tests
        run: npm test
        continue-on-error: true  # –û—à–∏–±–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è

      - name: deploy
        run: echo project deployed # –î–µ–ø–ª–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å–µ–≥–¥–∞
```

#### –û—à–∏–±–∫–∏:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –æ–±—Ä–∞–∑–∞ Ubuntu (ubuntu-18.04)**
    - –≠—Ç–∞ –≤–µ—Ä—Å–∏—è —É–∂–µ —É—Å—Ç–∞—Ä–µ–ª–∞, –∏ —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—è–∑–≤–∏–º–æ—Å—Ç—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
    - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `ubuntu-latest`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –≤–µ—Ä—Å–∏–∏ `actions/checkout@v1`**
    - –ë–æ–ª–µ–µ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –º–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–∞–≥–∏ –∏–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
    - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ `actions/checkout@v3`, –∫–æ—Ç–æ—Ä—ã–π –±—ã—Å—Ç—Ä–µ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ

3. **–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js —á–µ—Ä–µ–∑ `apt-get`**
    - –ú–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å –ª–∏—à–Ω—é—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å
    - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** `actions/setup-node@v3` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é node.js

4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
    - –ö–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏
    - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª—è–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `actions/cache@v3`

5. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (`continue-on-error: true`)**
    - **–¢–æ–≥–¥–∞ –∑–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–µ—Å—Ç—ã?ü¶í**
    - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –£–±–∏—Ä–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä `continue-on-error`, —á—Ç–æ–±—ã —Ç–µ—Å—Ç—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

![–ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ ci/cd](image/bad_1.png)

![–ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ ci/cd](image/bad_2.png)

---

### üòÉ –•–æ—Ä–æ—à–∏–π CI/CD:

```yaml
name: good CI/CD

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest  # –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3  # –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é

      - name: Set up Node.js
        uses: actions/setup-node@v3  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
        with:
          node-version: '20.x'  # –£–∫–∞–∑–∞–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Node.js

      - name: Cache node modules
        uses: actions/cache@v3  # –ö—ç—à–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
        with:
          path: node_modules
          key: ${{ runner.os }}-node-modules-${{ hashFiles('package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-node-modules

      - name: Install dependencies
        run: npm install --legacy-peer-deps  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å —É—á—ë—Ç–æ–º –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

      - name: Lint the code
        run: npm run lint  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º

      - name: Build the project
        run: npm run build

      - name: Run tests
        run: npm test  # –¢–µ—Å—Ç—ã —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
        
      - name: Deploy
        if: success()
        run: echo project deployed # –î–µ–ø–ª–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —à–∞–≥–æ–≤
```
![–ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ–æ ci/cd](image/good_1.png)

![–ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ ci/cd](image/good_2.png)

---

### –í—ã–≤–æ–¥

–•–æ—Ä–æ—à–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –∏ —É—Å–∫–æ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏(–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏!)

#### –ù–µ –∑–∞–±—ã–≤–∞–µ–º –ø—Ä–æ ü¶í