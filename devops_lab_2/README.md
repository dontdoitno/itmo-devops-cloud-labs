###DOCKER üôÅ/üòÉ
### üôÅ Dockerfile:

```Dockerfile
FROM ubuntu:latest

RUN apt-get update && apt-get install -y nodejs npm
RUN mkdir /app
RUN cd /app

COPY . /app
RUN npm install

CMD ["npm", "start"]
```

#### –û—à–∏–±–∫–∏:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ (`ubuntu:latest`)**
    - –ü–æ–ª–Ω—ã–π –æ–±—Ä–∞–∑ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞(–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º–∏)
    - –ò—Å–ø–æ–ª—å–∑—É—é `node:16-alpine`. –ó–∞–Ω–∏–º–∞–µ—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ

2. **–ù–µ–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ`RUN`**
    - –ö–∞–∂–¥—ã–π `RUN` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ª–æ–π `=>` –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç
    - –Ø –æ–±—ä–µ–¥–∏–Ω–∏–ª `RUN`. –ú–µ–Ω—å—à–µ –ª–∏—à–Ω–∏—Ö —Å–ª–æ–µ–≤

3. **–ù–µ—É–¥–∞–ª–µ–Ω–∏–µ –∫–µ—à–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
    - –ö–µ—à –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–∞–º—è—Ç—å
    - –û—á–∏—â–∞—é –∫–µ—à **–≤ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–µ** ``RUN npm install --production && npm cache clean --force``

4. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root`**
    - **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨!**
    - –°–æ–∑–¥–∞—é –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–ø—É—Å–∫–∞—é –æ—Ç –µ–≥–æ –ø—Ä–∞–≤

   ```Dockerfile
   RUN adduser -D user_dock
   USER user_dock
   ```
---

### üòÉ Dockerfile:

```Dockerfile
# –≠—Ç–∞–ø —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
FROM node:16-alpine AS build

WORKDIR /app

# –°–Ω–∞—á–∞–ª–∞ –∫–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ package.json –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
COPY package*.json ./
RUN npm install --production && npm cache clean --force

# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –∏ —Å–æ–±–∏—Ä–∞–µ–º –µ–≥–æ
COPY . .
RUN npm run build

# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
FROM node:16-alpine

WORKDIR /app
COPY --from=build /app .

# –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
RUN adduser -D user_dock
USER user_dock

EXPOSE 3000
CMD ["npm", "start"]
```

---

### –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö Docker-–æ–±—Ä–∞–∑–æ–≤**

–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –±–æ–ª—å—à–æ–π –¥–æ–∫–µ—Ä –æ–±—Ä–∞–∑ –ª—É—á—à–µ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ.

2. **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**

–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è

3. **–†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ–≥–æ-—Ç–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
(–ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—É–Ω–∫—Ç)

4. **–ó–∞–ø—É—Å–∫ ``root``**

–õ—é–±–æ–π —É –∫–æ–≥–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –º–æ–∂–µ—Ç –≤—Å–µ –ø–æ–ª–æ–º–∞—Ç—å –ª–∏–±–æ —É–∫—Ä–∞—Å—Ç—å –¥–∞–Ω–Ω—ã–µ

5. **–ù–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã**

–ö–æ–º–ø –≥–æ—Ä–∏—Ç/–≤—Å–µ –≤–∏—Å–∏—Ç/–Ω–µ—Ç –ø–∞–º—è—Ç–∏?

``=>`` **–ø—Ä–æ–≤–µ—Ä—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã!**

–ß—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–æ —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ –∏ CPU

---

### –í—ã–≤–æ–¥
Docker - –∫–ª–∞—Å—Å–Ω–∞—è —à—Ç—É–∫–∞, –Ω–æ –Ω—É–∂–Ω–æ **—É–º–µ—Ç—å** –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è!

# ü¶í